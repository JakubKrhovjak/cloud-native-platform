# GKE cluster values
global:
  environment: gke
  namespace: grud

# Secret management - use Google Secret Manager
secrets:
  # For GKE: use External Secrets Operator with Google Secret Manager
  createKubernetesSecrets: false
  useExternalSecrets: true

  # Google Secret Manager configuration
  gcp:
    projectId: ""  # Set via --set or environment variable
    clusterLocation: europe-west1
    clusterName: grud-cluster
    serviceAccountName: grud-secrets-sa

    # Secret names in Google Secret Manager
    jwtSecretName: grud-jwt-secret
    studentDbSecretName: grud-student-db-credentials
    projectDbSecretName: grud-project-db-credentials

databases:
  student:
    # For GKE, these are loaded from Google Secret Manager
    host: ""  # Cloud SQL proxy or IP
    port: 5432

  project:
    host: ""  # Cloud SQL proxy or IP
    port: 5432

studentService:
  enabled: true
  replicaCount: 3
  config:
    env: gke
  useSecrets: true
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

projectService:
  enabled: true
  replicaCount: 3
  config:
    env: gke
  useSecrets: true
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1000m"

adminPanel:
  enabled: true
  replicaCount: 3
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "500m"

# For GKE, databases are managed via Cloud SQL
studentDb:
  enabled: false

projectDb:
  enabled: false
